TET = [
    [(0,0), (0,1), (1,0), (1,1)],  # ㅁ

    [(0,0), (0,1), (0,2), (0,3)],  # ㅡ
    [(0,0), (1,0), (2,0), (3,0)],

    [(0,0), (1,0), (0,1), (0,2)],  # ㄱ
    [(0,0), (0,1), (-1,0), (-2,0)],
    [(0,0), (-1,0), (0,-1), (0,-2)],
    [(0,0), (0,1), (1,0), (2,0)],

    [(0,0), (-1,0), (0,1), (0,2)],  # ㄴ
    [(0,0), (0,-1), (-1,0), (-2,0)],
    [(0,0), (1,0), (0,-1), (0,-2)],
    [(0,0), (0,-1), (1,0), (2,0)],

    [(0,0), (1,0), (0,1), (0,-1)],  # ㅗ
    [(0,0), (1,0), (0,1), (-1,0)],
    [(0,0), (-1,0), (0,1), (0,-1)],
    [(0,0), (0,-1), (1,0), (-1,0)],

    [(0,0), (1,0), (1,1), (2,1)],  # ㄱㄴ
    [(0,0), (0,1), (-1,1), (-1,2)],
    [(0,0), (-1,0), (-1,-1), (-2,-1)],
    [(0,0), (0,-1), (1,-1), (1,-2)],

    [(0,0), (-1,0), (-1,1), (-2,1)],  # ㄱㄴ(R)
    [(0,0), (0,-1), (-1,-1), (-1,-2)],
    [(0,0), (1,0), (1,-1), (2,-1)],
    [(0,0), (0,1), (1,1), (1,2)]
]

n, m = map(int, input().split())
arr = [list(map(int, input().split())) for _ in range(n)]
res = 0

for x in range(m):
    for y in range(n):
        for D in TET:
            temp = 0

            for dx, dy in D:
                nx, ny = x+dx, y+dy

                if 0 <= nx < m and 0 <= ny < n:
                    temp += arr[ny][nx]
                else:
                    temp = 0
                    break
            
            res = max(res, temp)

print(res)

# 진심 노가다... 그냥 복붙할껄